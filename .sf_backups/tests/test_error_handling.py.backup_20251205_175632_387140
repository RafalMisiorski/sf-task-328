import pytest
from fastapi.testclient import TestClient
from app.main import app

client = TestClient(app)

def test_weather_endpoint_not_found_for_invalid_city():
    """
    Test that GET /weather/{city} returns 404 for a non-existent city.
    This verifies a basic error handling case for invalid path parameters.
    """
    city = "NonExistentCity12345"
    response = client.get(f"/weather/{city}")
    assert response.status_code == 404

def test_health_endpoint_returns_ok():
    """
    Test that GET /health returns 200 OK status.
    This verifies the basic health check endpoint is functioning.
    """
    response = client.get("/health")
    assert response.status_code == 200
    assert response.json() == {"status": "OK"}
